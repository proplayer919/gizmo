<title>Settings | Gizmo</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<div id="particlebox"></div>
<script src="/scripts/bg.js"></script>


<div class="importingbox" id="importingbox">
	<input id='importing' class='importing' placeholder='import from website' type='text' align="center" />
</div>
<input id='url1' class='url1' placeholder='favicon url' type='text' />
<input id='title' class='title' placeholder='website title' type='text' />

<div id="black" class="black"></div> <img src="/img/loading.gif" id="loadimg" class="loadimg" />
<style>
	@keyframes fadeout {
		0% {
			opacity: 1;
			pointer-events: none;
		}

		100% {
			opacity: 0;
			display: none;
		}
	}

	.black {
		position: absolute;
		left: 0px;
		opacity: 1;
		display: block;
		top: 0px;
		width: 100%;
		z-index: 999999999999999999999999999999999999999999999;
		height: 100%;
	}

	.loadimg {
		position: absolute;
		opacity: 1;
		display: block;
		width: 125px;
		z-index: 9999999999999999999999999999999999999999999999;
		height: 125px;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
	}
</style>
<script> function fade() { document.getElementById("loadimg").style.animation = "linear 1.5s 1 running fadeout"; document.getElementById("loadimg").addEventListener("animationend", () => { document.getElementById("black").style.animation = "linear 1.5s 1 running fadeout"; document.getElementById("black").addEventListener("animationend", () => { document.getElementById("black").remove(); }); document.getElementById("loadimg").remove(); }); } setTimeout(fade, 1200); </script>

<label class="browserlabel" id="browserlabel">browser: </label>
<select name="browser1" id="browser1" class="browser1">
	<option value="bing">bing</option>
	<option value="google">google</option>
	<option value="yahoo!">yahoo!</option>
</select>

<label class="themelabel" id="themelabel">theme: </label>
<select name="theme" id="theme" class="theme">
	<option value="space">Space</option>
	<option value="ocean">Ocean</option>
	<option value="cotton candy">Cotton Candy</option>
	<option value="rainforest">Rainforest</option>
	<option value="patriotic">Patriotic</option>
	<option value="sunshine">Sunshine</option>
	<option value="beach">Beach</option>
	<option value="halloween">Halloween</option>
	<option value="thanksgiving">Thanksgiving</option>
	<option value="wildfire">Wildfire</option>
	<option value="fire and ice">Fire and Ice</option>
	<option value="heavenly light">Heavenly Light</option>
</select>

<label for="autoblank" class="label2" id="label2">auto blank: </label>
<input type="checkbox" id="autoblank" class="autoblank">

<button id="rb">Restart Proxy</button>

<style>
	body {
		font-family: Arial, sans-serif !important;
	}

	option {
		color: black !important;
	}

	.bg {
		position: absolute;
		height: 100%;
		top: 0px;
		left: 0px;
		width: 100%;
	}

	.cursoractivate {
		position: absolute;
		top: 30%;
		height: 20px;
		width: 20px;
	}

	.autoblank {
		position: absolute;
		top: 42%;
		height: 20px;
	}

	.label1 {
		color: white;
		position: absolute;
		top: 30%;
		width: 50px;
		height: 20px;
	}

	.label2 {
		color: white;
		position: absolute;
		top: 42%;
		width: 50px;
		height: 20px;
	}

	.back {
		position: absolute;
		width: 50px;
		height: 50px;
		top: 1%;
		left: 1%;
	}

	.button1 {
		position: absolute;
		width: 10%;
		height: 5%;
		bottom: 1%;
		right: 45%;
		border-radius: 25px;
		border: 2px solid white;
		color: white;
		background: transparent;
		text-align: center;
		font-size: 1em;
		opacity: 0.5;
	}

	#rb {
		position: absolute;
		width: 15%;
		height: 5%;
		top: 54%;
		right: 42.5%;
		border-radius: 25px;
		border: 2px solid white;
		color: white;
		background: transparent;
		text-align: center;
		font-size: 1em;
		opacity: 1;
	}

	.button1:hover {
		opacity: 1;
	}

	.top {
		top: 0px;
		left: 0px;
		width: 100%;
		height: 30px;
		text-align: center;
	}

	.importingbox {
		position: absolute;
		height: 6%;
		left: 30%;
		width: 40%;
		top: 5px;
	}

	.importing {
		background: transparent;
		color: white;
		border: 2px solid white;
		height: 100%;
		width: 100%;
		text-align: center;
	}

	.importing::placeholder {
		color: white;
	}

	.url1::placeholder {
		color: white;
	}

	.title::placeholder {
		color: white;
	}

	.url1 {
		background: transparent;
		color: white;
		border: 2px solid white;
		position: absolute;
		height: 6%;
		width: 40%;
		right: 5%;
		top: 8%;
		text-align: center;
	}

	.title {
		background: transparent;
		color: white;
		border: 2px solid white;
		position: absolute;
		height: 6%;
		width: 40%;
		left: 5%;
		top: 8%;
		text-align: center;
	}

	.browser1 {
		background: transparent;
		color: white;
		border: 2px solid white;
		position: absolute;
		width: 70px;
		height: 40px;
		top: 20%;
	}

	.browserlabel {
		background: transparent;
		color: white;
		position: absolute;
		width: 70px;
		text-align: right;
		top: 20%;
		top: calc(20% + 20px);
		transform: translateY(-50%);
	}

	.theme {
		background: transparent;
		color: white;
		position: absolute;
		border: 2px solid white;
		width: 70px;
		height: 40px;
		top: 30%;
	}

	.themelabel {
		background: transparent;
		color: white;
		text-align: right;
		position: absolute;
		width: 70px;
		top: calc(30% + 20px);
		transform: translateY(-50%);
	}
</style>

<script>

	browser1.style.left = window.innerWidth / 2 + 3;
	browserlabel.style.right = window.innerWidth / 2 + 3;

	theme.style.left = window.innerWidth / 2 + 3;
	themelabel.style.right = window.innerWidth / 2 + 3;

	autoblank.style.left = window.innerWidth / 2 - 20 / 2 + 50 / 2;
	label2.style.left = window.innerWidth / 2 - 50 / 2 - 50 / 2;


	function get_cookie(cookie_name) { const value = "; " + document.cookie; const parts = value.split("; " + cookie_name + "="); if (parts.length === 2) return parts.pop().split(";").shift(); }
	var title2 = get_cookie("title2");
	var favicon = get_cookie("favicon");
	var browser2 = get_cookie("browser3");
	var themecookie = get_cookie("theme");
	var abcookie = get_cookie("autoblank");

	if (title2 != undefined) {
		title.value = title2;
		document.title = title2;
	}



	if (abcookie != undefined) {
		if (abcookie == "on") {
			autoblank.checked = true;
		}
		if (abcookie == "off") {
			autoblank.checked = false;
		}
	}
	else {
		document.cookie = "autoblank=off; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/";
		autoblank.checked = false;
	}

	if (theme != undefined) {
		theme.value = themecookie;
	}
	else {
		document.cookie = "theme=space; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/";
		theme.value = "space";
	}

	if (browser2 != undefined) {
		browser1.value = browser2;
	}
	else {
		document.cookie = "browser3=google; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/";
		browser1.value = "google";
	}

	if (favicon != undefined) {
		url1.value = favicon;
		var t = document.querySelector('head');
		var f = document.createElement('link');
		f.setAttribute('rel', 'shortcut icon');
		f.setAttribute('href', favicon);
		t.appendChild(f);
	}

	function whileloop() {
		if (importing.value != "") {
			url1.value = "";
			title.value = "";
		}
	}

	setInterval(whileloop, 15);

	var fontsize1 = 2560 / window.innerWidth * 8;
	url1.style.fontSize = fontsize1 + "px";
	var fontsize2 = 2560 / window.innerWidth * 8;
	title.style.fontSize = fontsize2 + "px";
	var fontsize3 = 2560 / window.innerWidth * 8;
	importing.style.fontSize = fontsize3 + "px";


	function settitle(titlename) {
		document.title = titlename;
	}

	function settandf() {
		var url = importing.innerText;
		var originalurl = url;

		settitle(originalurl);

		if (url.includes("https://") == false) {
			url = "https://" + url;
		}

		url = "https://t1.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=" + url;

		document.cookie = "icon=" + url + "; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/";

		setfavicon(url);
	}
	function setfavicon(favicon) {
		(function () {
			var link = document.querySelector("link[rel*='icon']") || document.createElement('link');
			link.type = 'image/x-icon';
			link.rel = 'shortcut icon';
			link.href = favicon;
			document.getElementsByTagName('head')[0].appendChild(link);
		})();
	}
	function reroutetohome() {
		window.location.href = window.location.origin;
	}
</script>

<a onclick="
            
var imported=document.getElementById('importing').value;
var title2=document.getElementById('title').value;
var favicon=document.getElementById('url1').value;
var browser4=document.getElementById('browser1').value;
var themeval=document.getElementById('theme').value;
var autoblanker=document.getElementById('autoblank').checked;
           
if (imported==''){
    

    if (autoblanker==true){
        document.cookie='autoblank=on; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
    }

    if (autoblanker==false){
        document.cookie='autoblank=off; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
    }

    document.cookie='browser3='+browser4+'; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
    document.cookie='theme='+themeval+'; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
    document.title=title2;
    document.cookie='title2='+title2+'; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
            
    var t = document.querySelector('head');
    var f = document.createElement('link');
    f.setAttribute('rel','shortcut icon');
    f.setAttribute('href',favicon);
    t.appendChild(f);
    document.cookie='favicon='+favicon+'; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';

    setTimeout(() => {
        window.top.location.reload();
    },50);
}
else{
    

    if (autoblanker==true){
        document.cookie='autoblank=on; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
    }

    if (autoblanker==false){
        document.cookie='autoblank=off; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
    }

            
    var url=importing.value;
    var originalurl=url;

    document.cookie='browser3='+browser4+'; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
    document.cookie='theme='+themeval+'; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
    document.title=originalurl;
    document.cookie='title2='+originalurl+'; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';

    if (url.includes('https://')==false){
        url='https://'+url;
    }

    url='https://t1.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url='+url;
            
    document.cookie='favicon='+url+'; expires=Thu, 18 Dec 9013 12:00:00 UTC; path=/';
            
    var t = document.querySelector('head');
    var f = document.createElement('link');
    f.setAttribute('rel','shortcut icon');
    f.setAttribute('href',url);
    t.appendChild(f);

    setTimeout(() => {
        window.top.location.reload();
    },50);
}
            
">
	<button class='button1' id='button1'>done</button>
</a>

<script src="/uv/uv.bundle.js" defer></script>
<script src="/uv/uv.config.js" defer></script>
<script src="/register-sw.js" defer></script>
<script src="/search.js" defer></script>
<script src="/scripts/loadbutton.js" defer></script>
<script src="/error.js" defer></script>